<div class="container">
  <h2>Produtos</h2>

  <form [formGroup]="formProduto" (ngSubmit)="salvar()" class="form">
    <div>
      <label>Nome:</label>
      <input formControlName="nome" />
    </div>

    <div>
      <label>Descrição:</label>
      <input formControlName="descricao" />
    </div>

    <div>
      <label>Preço Base:</label>
      <input type="number" formControlName="precoBase" />
    </div>

    <div>
      <label>Ativo:</label>
      <select formControlName="ativo">
        <option [value]="true">Sim</option>
        <option [value]="false">Não</option>
      </select>
    </div>

    <button type="submit">{{ editando ? 'Atualizar' : 'Inserir' }}</button>
    <button type="button" (click)="cancelar()" *ngIf="editando">Cancelar</button>
  </form>

  <hr />

  <table>
    <thead>
      <tr>
        <th>Nome</th>
        <th>Descrição</th>
        <th>Preço Base</th>
        <th>Ativo</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let produto of produtos">
        <td>{{ produto.nome }}</td>
        <td>{{ produto.descricao }}</td>
        <td>R$ {{ produto.precoBase.toFixed(2) }}</td>
        <td>{{ produto.ativo ? 'Sim' : 'Não' }}</td>
        <td>
          <button (click)="editar(produto)">Editar</button>
          <button (click)="excluir(produto.id!)">Excluir</button>
          <button (click)="consultar(produto)">Consultar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
